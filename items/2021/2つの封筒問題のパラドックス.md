title: 2つの封筒問題のパラドックス
tags: 数学 確率 封筒の問題 パラドックス
url: https://qiita.com/SaitoTsutomu/items/63885dec1cca99acb7bb
created_at: 2021-05-15 13:57:09+09:00
updated_at: 2021-05-16 16:22:15+09:00
body:

## 前提

- 2つの封筒があり、それぞれにお金が入っている
- 片方には`a`円、もう片方には`b`円入っている。
- `a`と`b`は異なる正の整数であり、それ以外の情報はない。

## 事実

- 1つの封筒を無作為に選んだとき、その封筒に入っている金額の期待値は、`(a + b) / 2`であり、もう一方の期待値も同じである。

## 問題

封筒を1つ無作為に選ぶ。その封筒には、`a`または`b`のお金が入っている。
さて、`a`と`b`に関する前提は同じである。したがって、`a`と`b`を交換しても前提は変わらない。

そこで、選んだ封筒の金額を`a`としてみよう。このとき、この封筒の期待値は`a`であり、もう一方の期待値は`b`である。

`a`と`b`は異なるので、2つの封筒の期待値が異なることになる。これは、事実と合わない。この理由を説明せよ。

## 解答

選んだ封筒の金額を（たとえ、値が不明でも）固定した上で、期待値を`(a + b) / 2`と計算するのが間違いである。
`(a + b) / 2`という値は、「`a`を1/2の確率で、`b`を1/2の確率で選ぶ場合」の期待値である。
たとえ、`a`が不明でも「`a`を選んだ場合」の期待値とは同じではない。

## 発展

「（値を明示しなくても）金額を仮定すると期待値は変わる」ことに注意しよう。

下記のいわゆる「2つの封筒の問題」は、上記の問題に「`a`と`b`の比は2」などの条件を追加したものである。

2つの封筒問題：[確率の問題](https://qiita.com/SaitoTsutomu/items/9784e4451d6d510dbfbb#mag-%E3%81%8A%E9%A1%8C%E3%81%9D%E3%81%AE22%E3%81%A4%E3%81%AE%E5%B0%81%E7%AD%92%E3%81%AE%E5%95%8F%E9%A1%8C)

この問題も期待値は計算できない。また、開封時の金額を明示しなくても「期待値は計算できない」。考えてみよう。


