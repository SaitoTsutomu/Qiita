title: ジオメトリーノードでで木から森を作ろう
tags: 3DCG Blender
url: https://qiita.com/SaitoTsutomu/items/ee30cbe777e26971bf20
created_at: 2021-12-13 18:16:43+09:00
updated_at: 2021-12-14 07:03:13+09:00
body:

# ジオメトリーノードでで木から森を作ろう

「[Pythonで木から森を作ろう](https://qiita.com/SaitoTsutomu/items/6a6c45f3bf52d15d5bd0)」では、Pythonで1本の木から森を作成しました。今回は、Blender3.0のジオメトリーノードを使って、1本の木から森を作成します。

ジオメトリーノードをはじめて使うので、間違いなどがあるかもしれませんがご了承ください。

## 1本の木を作る

「[ローポリの木を作ろう](https://qiita.com/SaitoTsutomu/items/6a6c45f3bf52d15d5bd0#%E3%83%AD%E3%83%BC%E3%83%9D%E3%83%AA%E3%81%AE%E6%9C%A8%E3%82%92%E4%BD%9C%E3%82%8D%E3%81%86)」を参考に1本の木を作ってください。ただし、カスタムプロパティを作成する必要はないです。カスタムプロパティを作成しない場合は、マテリアル`green`のベースカラーを緑色に変えてください。
オブジェクト名は`tree`とします。

## 地面を作る

「[地面を作ろう](https://qiita.com/SaitoTsutomu/items/6a6c45f3bf52d15d5bd0#%E5%9C%B0%E9%9D%A2%E3%82%92%E4%BD%9C%E3%82%8D%E3%81%86)」を参考に地面を作ってください。オブジェクト名は`Grid`とします。

## ジオメトリーノードの作成

「Node Wrangler」アドオンを有効にしてください。
ウィンドウを増やし、`ジオメトリーノードエディター`にしてください。
3Dビューポートで`Grid`（地面）を選び、`ジオメトリーノードエディター`の「新規」を押してください。
「追加（`Shift + A`）」で、以下のノードを作成してください。

- 「ポイント」→「面にポイント配置」
    - 「密度」を`0.3`にしてください。
    - 「グループ入力」ノードと「グループ出力」ノードの間に入れてください。間に入れると地面が消えます。そこで、ShiftとCtrlを押しながら、「グループ入力」ノードから「面にポイント配置」ノードにドラッグしてください。下記のように「ジオメトリー統合」ノードが追加され、地面が表示されます。

![スクリーンショット 2021-12-13 18.00.21.jpg](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/13955/47b0247b-db24-4aba-0b33-f411917d1a29.jpeg)

- 「インスタンス」→「ポイントにインスタンス作成」
    - 「面にポイント配置」ノードと「ジオメトリー統合」ノードの間に入れてください。
- 「入力」→「オブジェクト情報」
    - 「オブジェクト」を`tree`にしてください。
    - 下記のように「ジオメトリー」から「面にポイント配置」ノードの「インスタンス」につないでください。

![スクリーンショット 2021-12-13 18.03.08.jpg](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/13955/be81fea9-1240-be30-4a99-be55b8c13e63.jpeg)

完成です！

## 余談

最初、間違えて`2.93`で作ってしまいました。そのときは、下記のようにできました。

![スクリーンショット 2021-12-13 18.11.37.jpg](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/13955/cabb9a8b-903d-7ebe-2f02-41e1f2782b01.jpeg)

こっちの方が簡単ですね。

以上

