title: 片側検定
tags: 確率 仮説検定 片側検定
url: https://qiita.com/SaitoTsutomu/items/8e02029e95ea3331f14f
created_at: 2024-12-28 21:24:37+09:00
updated_at: 2024-12-28 21:24:37+09:00
body:

## はじめに

本記事では、**片側検定**の誤解をときます。

## 誤解その1 `片側検定を使うには、片側の根拠を示す必要がある`

片側検定するにあたって、**片側という根拠は示すことなく使えます**。

この誤解は、「片側検定は両側検定より有利になる。だから、根拠のある時しか使えない」という思い込みが原因と考えられます。

しかし、片側検定の主張は、両側検定の主張より狭い範囲です。

* 両側検定の「XXXの平均はYYYでない」という主張は、以下の2つの主張を含む
  * 片側検定の「XXXの平均はYYYより小さい」という主張
  * 片側検定で「XXXの平均はYYYより大きい」という主張

片側検定は、両側検定の主張の半分だけ主張しています。そのため、その主張の範囲においては両側検定より成立しやすくなります。

## 誤解その2`片側検定の帰無仮説は、「平均がある値と同じ」である`

片側検定の帰無仮説と対立仮説は次のどちらかです。

|             | 帰無仮説         | 対立仮説               |
| :---------- | :--------------- | :--------------------- |
| ケースその1 | 平均がある値以下 | 平均がある値より大きい |
| ケースその2 | 平均がある値以上 | 平均がある値より小さい |

この誤解は、「『平均がある値と同じ』にしないと`p値`を計算できない」という思い込みが原因と考えられます。

しかし、「平均がある値以下」という仮説の元で`p値`は計算できます。詳しくは下記を参照してください。

https://blog.pyq.jp/entry/pyq_release_200214

帰無仮説を「平均がある値と同じ」として棄却した場合に、「平均がある値より大きい」を採用することがおかしいです。「平均がある値と同じ」を棄却した場合に主張できるのは「平均がある値でない」です。

## さいごに

片側検定の考え方自体はシンプルです。今後は正しく使われることを願っています。

## 参考

https://docs.pyq.jp/python/pydata/scipy/ttest.html#id12

https://blog.pyq.jp/entry/Python_kaiketsu_210224

以上

